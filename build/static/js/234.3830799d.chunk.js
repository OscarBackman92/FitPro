"use strict";(self.webpackChunkfitpro=self.webpackChunkfitpro||[]).push([[234],{4853:(e,s,a)=>{a.r(s),a.d(s,{default:()=>re});var l=a(5043),r=a(3216),t=a(8139),n=a.n(t),o=a(5173),i=a.n(o),d=a(579);const c={type:i().string,tooltip:i().bool,as:i().elementType},m=l.forwardRef(((e,s)=>{let{as:a="div",className:l,type:r="valid",tooltip:t=!1,...o}=e;return(0,d.jsx)(a,{...o,ref:s,className:n()(l,`${r}-${t?"tooltip":"feedback"}`)})}));m.displayName="Feedback",m.propTypes=c;const f=m,h=l.createContext({});var u=a(7852);const p=l.forwardRef(((e,s)=>{let{id:a,bsPrefix:r,className:t,type:o="checkbox",isValid:i=!1,isInvalid:c=!1,as:m="input",...f}=e;const{controlId:p}=(0,l.useContext)(h);return r=(0,u.oU)(r,"form-check-input"),(0,d.jsx)(m,{...f,ref:s,type:o,id:a||p,className:n()(t,r,i&&"is-valid",c&&"is-invalid")})}));p.displayName="FormCheckInput";const x=p,g=l.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,htmlFor:t,...o}=e;const{controlId:i}=(0,l.useContext)(h);return a=(0,u.oU)(a,"form-check-label"),(0,d.jsx)("label",{...o,ref:s,htmlFor:t||i,className:n()(r,a)})}));g.displayName="FormCheckLabel";const v=g;const b=l.forwardRef(((e,s)=>{let{id:a,bsPrefix:r,bsSwitchPrefix:t,inline:o=!1,reverse:i=!1,disabled:c=!1,isValid:m=!1,isInvalid:p=!1,feedbackTooltip:g=!1,feedback:b,feedbackType:j,className:N,style:y,title:w="",type:$="checkbox",label:C,children:_,as:F="input",...I}=e;r=(0,u.oU)(r,"form-check"),t=(0,u.oU)(t,"form-switch");const{controlId:P}=(0,l.useContext)(h),k=(0,l.useMemo)((()=>({controlId:a||P})),[P,a]),R=!_&&null!=C&&!1!==C||function(e,s){return l.Children.toArray(e).some((e=>l.isValidElement(e)&&e.type===s))}(_,v),U=(0,d.jsx)(x,{...I,type:"switch"===$?"checkbox":$,ref:s,isValid:m,isInvalid:p,disabled:c,as:F});return(0,d.jsx)(h.Provider,{value:k,children:(0,d.jsx)("div",{style:y,className:n()(N,R&&r,o&&`${r}-inline`,i&&`${r}-reverse`,"switch"===$&&t),children:_||(0,d.jsxs)(d.Fragment,{children:[U,R&&(0,d.jsx)(v,{title:w,children:C}),b&&(0,d.jsx)(f,{type:j,tooltip:g,children:b})]})})})}));b.displayName="FormCheck";const j=Object.assign(b,{Input:x,Label:v});a(6440);const N=l.forwardRef(((e,s)=>{let{bsPrefix:a,type:r,size:t,htmlSize:o,id:i,className:c,isValid:m=!1,isInvalid:f=!1,plaintext:p,readOnly:x,as:g="input",...v}=e;const{controlId:b}=(0,l.useContext)(h);return a=(0,u.oU)(a,"form-control"),(0,d.jsx)(g,{...v,type:r,size:o,ref:s,readOnly:x,id:i||b,className:n()(c,p?`${a}-plaintext`:a,t&&`${a}-${t}`,"color"===r&&`${a}-color`,m&&"is-valid",f&&"is-invalid")})}));N.displayName="FormControl";const y=Object.assign(N,{Feedback:f}),w=l.forwardRef(((e,s)=>{let{className:a,bsPrefix:l,as:r="div",...t}=e;return l=(0,u.oU)(l,"form-floating"),(0,d.jsx)(r,{ref:s,className:n()(a,l),...t})}));w.displayName="FormFloating";const $=w,C=l.forwardRef(((e,s)=>{let{controlId:a,as:r="div",...t}=e;const n=(0,l.useMemo)((()=>({controlId:a})),[a]);return(0,d.jsx)(h.Provider,{value:n,children:(0,d.jsx)(r,{...t,ref:s})})}));C.displayName="FormGroup";const _=C;const F=l.forwardRef(((e,s)=>{const[{className:a,...l},{as:r="div",bsPrefix:t,spans:o}]=function(e){let{as:s,bsPrefix:a,className:l,...r}=e;a=(0,u.oU)(a,"col");const t=(0,u.gy)(),o=(0,u.Jm)(),i=[],d=[];return t.forEach((e=>{const s=r[e];let l,t,n;delete r[e],"object"===typeof s&&null!=s?({span:l,offset:t,order:n}=s):l=s;const c=e!==o?`-${e}`:"";l&&i.push(!0===l?`${a}${c}`:`${a}${c}-${l}`),null!=n&&d.push(`order${c}-${n}`),null!=t&&d.push(`offset${c}-${t}`)})),[{...r,className:n()(l,...i,...d)},{as:s,bsPrefix:a,spans:i}]}(e);return(0,d.jsx)(r,{...l,ref:s,className:n()(a,!o.length&&t)})}));F.displayName="Col";const I=F,P=l.forwardRef(((e,s)=>{let{as:a="label",bsPrefix:r,column:t=!1,visuallyHidden:o=!1,className:i,htmlFor:c,...m}=e;const{controlId:f}=(0,l.useContext)(h);r=(0,u.oU)(r,"form-label");let p="col-form-label";"string"===typeof t&&(p=`${p} ${p}-${t}`);const x=n()(i,r,o&&"visually-hidden",t&&p);return c=c||f,t?(0,d.jsx)(I,{ref:s,as:"label",className:x,htmlFor:c,...m}):(0,d.jsx)(a,{ref:s,className:x,htmlFor:c,...m})}));P.displayName="FormLabel";const k=P,R=l.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,id:t,...o}=e;const{controlId:i}=(0,l.useContext)(h);return a=(0,u.oU)(a,"form-range"),(0,d.jsx)("input",{...o,type:"range",ref:s,className:n()(r,a),id:t||i})}));R.displayName="FormRange";const U=R,L=l.forwardRef(((e,s)=>{let{bsPrefix:a,size:r,htmlSize:t,className:o,isValid:i=!1,isInvalid:c=!1,id:m,...f}=e;const{controlId:p}=(0,l.useContext)(h);return a=(0,u.oU)(a,"form-select"),(0,d.jsx)("select",{...f,size:t,ref:s,className:n()(o,a,r&&`${a}-${r}`,i&&"is-valid",c&&"is-invalid"),id:m||p})}));L.displayName="FormSelect";const S=L,G=l.forwardRef(((e,s)=>{let{bsPrefix:a,className:l,as:r="small",muted:t,...o}=e;return a=(0,u.oU)(a,"form-text"),(0,d.jsx)(r,{...o,ref:s,className:n()(l,a,t&&"text-muted")})}));G.displayName="FormText";const A=G,E=l.forwardRef(((e,s)=>(0,d.jsx)(j,{...e,ref:s,type:"switch"})));E.displayName="Switch";const O=Object.assign(E,{Input:j.Input,Label:j.Label}),T=l.forwardRef(((e,s)=>{let{bsPrefix:a,className:l,children:r,controlId:t,label:o,...i}=e;return a=(0,u.oU)(a,"form-floating"),(0,d.jsxs)(_,{ref:s,className:n()(l,a),controlId:t,...i,children:[r,(0,d.jsx)("label",{htmlFor:t,children:o})]})}));T.displayName="FloatingLabel";const z=T,V={_ref:i().any,validated:i().bool,as:i().elementType},B=l.forwardRef(((e,s)=>{let{className:a,validated:l,as:r="form",...t}=e;return(0,d.jsx)(r,{...t,ref:s,className:n()(a,l&&"was-validated")})}));B.displayName="Form",B.propTypes=V;const M=Object.assign(B,{Group:_,Control:y,Floating:$,Check:j,Switch:O,Label:k,Text:A,Range:U,Select:S,FloatingLabel:z});var q=a(1521);const D=l.forwardRef(((e,s)=>{let{bsPrefix:a,className:l,as:r="div",...t}=e;const o=(0,u.oU)(a,"row"),i=(0,u.gy)(),c=(0,u.Jm)(),m=`${o}-cols`,f=[];return i.forEach((e=>{const s=t[e];let a;delete t[e],null!=s&&"object"===typeof s?({cols:a}=s):a=s;const l=e!==c?`-${e}`:"";null!=a&&f.push(`${m}${l}-${a}`)})),(0,d.jsx)(r,{ref:s,...t,className:n()(l,o,...f)})}));D.displayName="Row";const H=D;var J=a(1759);const Z=l.forwardRef(((e,s)=>{let{as:a,bsPrefix:l,variant:r="primary",size:t,active:o=!1,disabled:i=!1,className:c,...m}=e;const f=(0,u.oU)(l,"btn"),[h,{tagName:p}]=(0,J.Am)({tagName:a,disabled:i,...m}),x=p;return(0,d.jsx)(x,{...h,...m,ref:s,disabled:i,className:n()(c,f,o&&"active",r&&`${f}-${r}`,t&&`${f}-${t}`,m.href&&i&&"disabled")})}));Z.displayName="Button";const Q=Z;var W=a(3519);i().string,i().bool,i().bool,i().bool,i().bool;const K=l.forwardRef(((e,s)=>{let{bsPrefix:a,className:l,fluid:r=!1,rounded:t=!1,roundedCircle:o=!1,thumbnail:i=!1,...c}=e;return a=(0,u.oU)(a,"img"),(0,d.jsx)("img",{ref:s,...c,className:n()(l,r&&`${a}-fluid`,t&&"rounded",o&&"rounded-circle",i&&`${a}-thumbnail`)})}));K.displayName="Image";const X=K;var Y=a(4034),ee=a(7464);const se="ProfileEditForm_Content__QS1xe",ae="ProfileEditForm_ProfileImage__lEVq5",le="ProfileEditForm_UploadButton__G1duZ",re=()=>{var e,s,a,t,n,o,i,c;const{currentUser:m,setCurrentUser:f}=(0,ee.i)(),{id:h}=(0,r.g)(),u=(0,r.Zp)(),[p,x]=(0,l.useState)(!1),[g,v]=(0,l.useState)({});(0,l.useEffect)((()=>{(null===m||void 0===m?void 0:m.profile_id)!==parseInt(h)&&u("/")}),[m,h,u]);const[b,j]=(0,l.useState)({name:"",bio:"",weight:"",height:"",date_of_birth:"",gender:"",fitness_goals:"",profile_image:""}),{name:N,bio:y,weight:w,height:$,date_of_birth:C,gender:_,fitness_goals:F,profile_image:P}=b;(0,l.useEffect)((()=>{(async()=>{try{const{data:e}=await Y.$q.get(`/profiles/${h}/`),{name:s,bio:a,weight:l,height:r,date_of_birth:t,gender:n,fitness_goals:o,profile_image:i}=e;j({name:s,bio:a,weight:l,height:r,date_of_birth:t||"",gender:n||"",fitness_goals:o,profile_image:i}),x(!0)}catch(e){console.error(e),u("/")}})()}),[h,u]);const k=e=>{const{name:s,value:a}=e.target;j((e=>({...e,[s]:a})))},R=(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(M.Group,{children:[(0,d.jsx)(M.Label,{children:"Name"}),(0,d.jsx)(M.Control,{type:"text",name:"name",value:N,onChange:k})]}),null===g||void 0===g||null===(e=g.name)||void 0===e?void 0:e.map(((e,s)=>(0,d.jsx)(q.A,{variant:"warning",children:e},s))),(0,d.jsxs)(M.Group,{children:[(0,d.jsx)(M.Label,{children:"Bio"}),(0,d.jsx)(M.Control,{as:"textarea",rows:3,name:"bio",value:y,onChange:k})]}),null===g||void 0===g||null===(s=g.bio)||void 0===s?void 0:s.map(((e,s)=>(0,d.jsx)(q.A,{variant:"warning",children:e},s))),(0,d.jsxs)(H,{children:[(0,d.jsxs)(I,{md:6,children:[(0,d.jsxs)(M.Group,{children:[(0,d.jsx)(M.Label,{children:"Weight (kg)"}),(0,d.jsx)(M.Control,{type:"number",name:"weight",value:w,onChange:k})]}),null===g||void 0===g||null===(a=g.weight)||void 0===a?void 0:a.map(((e,s)=>(0,d.jsx)(q.A,{variant:"warning",children:e},s)))]}),(0,d.jsxs)(I,{md:6,children:[(0,d.jsxs)(M.Group,{children:[(0,d.jsx)(M.Label,{children:"Height (cm)"}),(0,d.jsx)(M.Control,{type:"number",name:"height",value:$,onChange:k})]}),null===g||void 0===g||null===(t=g.height)||void 0===t?void 0:t.map(((e,s)=>(0,d.jsx)(q.A,{variant:"warning",children:e},s)))]})]}),(0,d.jsxs)(M.Group,{children:[(0,d.jsx)(M.Label,{children:"Date of Birth"}),(0,d.jsx)(M.Control,{type:"date",name:"date_of_birth",value:C,onChange:k})]}),null===g||void 0===g||null===(n=g.date_of_birth)||void 0===n?void 0:n.map(((e,s)=>(0,d.jsx)(q.A,{variant:"warning",children:e},s))),(0,d.jsxs)(M.Group,{children:[(0,d.jsx)(M.Label,{children:"Gender"}),(0,d.jsxs)(M.Select,{name:"gender",value:_,onChange:k,children:[(0,d.jsx)("option",{value:"",children:"Select gender"}),(0,d.jsx)("option",{value:"M",children:"Male"}),(0,d.jsx)("option",{value:"F",children:"Female"}),(0,d.jsx)("option",{value:"O",children:"Other"})]})]}),null===g||void 0===g||null===(o=g.gender)||void 0===o?void 0:o.map(((e,s)=>(0,d.jsx)(q.A,{variant:"warning",children:e},s))),(0,d.jsxs)(M.Group,{children:[(0,d.jsx)(M.Label,{children:"Fitness Goals"}),(0,d.jsx)(M.Control,{as:"textarea",rows:3,name:"fitness_goals",value:F,onChange:k})]}),null===g||void 0===g||null===(i=g.fitness_goals)||void 0===i?void 0:i.map(((e,s)=>(0,d.jsx)(q.A,{variant:"warning",children:e},s))),(0,d.jsx)(Q,{className:"mr-3",onClick:()=>u(-1),children:"Cancel"}),(0,d.jsx)(Q,{type:"submit",children:"Save"})]});return(0,d.jsx)(M,{onSubmit:async e=>{e.preventDefault();const s=new FormData;Object.keys(b).forEach((e=>{""!==b[e]&&s.append(e,b[e])}));try{const{data:e}=await Y.$q.put(`/profiles/${h}/`,s);f((s=>({...s,profile_image:e.profile_image}))),u(`/profiles/${h}`)}catch(l){var a;console.error(l),v((null===(a=l.response)||void 0===a?void 0:a.data)||{})}},children:(0,d.jsxs)(H,{children:[(0,d.jsx)(I,{className:"py-2 p-0 p-md-2",md:7,lg:6,children:(0,d.jsx)(W.A,{className:se,children:p?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(M.Group,{className:"text-center",children:[P&&(0,d.jsx)("figure",{children:(0,d.jsx)(X,{className:ae,src:P,alt:"Profile Image",rounded:!0})}),(0,d.jsx)("div",{children:(0,d.jsx)(M.Label,{className:`${le} btn`,htmlFor:"image-upload",children:"Change Profile Image"})}),(0,d.jsx)(M.File,{id:"image-upload",accept:"image/*",onChange:e=>{e.target.files.length&&j({...b,profile_image:e.target.files[0]})},className:"d-none"})]}),null===g||void 0===g||null===(c=g.profile_image)||void 0===c?void 0:c.map(((e,s)=>(0,d.jsx)(q.A,{variant:"warning",children:e},s))),(0,d.jsx)("div",{className:"d-md-none",children:R})]}):(0,d.jsx)("div",{className:"text-center",children:"Loading..."})})}),(0,d.jsx)(I,{md:5,lg:6,className:"d-none d-md-block p-0 p-md-2",children:(0,d.jsx)(W.A,{className:se,children:R})})]})})}},6440:e=>{var s=function(){};e.exports=s}}]);
//# sourceMappingURL=234.3830799d.chunk.js.map