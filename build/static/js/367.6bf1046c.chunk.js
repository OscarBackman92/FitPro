"use strict";(self.webpackChunkfitpro=self.webpackChunkfitpro||[]).push([[367],{3367:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var s=a(5043),o=a(3216),l=a(7015),r=a(4215),d=a(9136),n=a(579);const i=()=>{const{id:e}=(0,o.g)(),t=(0,o.Zp)(),{fetchWorkouts:a}=(0,r.x3)(),[i,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)({}),[x,h]=(0,s.useState)({workout_type:"",duration:"",intensity:"moderate",notes:"",date_logged:(new Date).toISOString().split("T")[0]});(0,s.useEffect)((()=>{(async()=>{if(e)try{const t=await l.n.getWorkout(e);console.log("Existing Workout:",t),h(t)}catch(t){const e=d.A.handleApiError(t);m(e.errors)}})()}),[e]);const g=e=>{const{name:t,value:a}=e.target;h((e=>({...e,[t]:a})))};return x?(0,n.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),c(!0),m({}),console.log("Submitting workout data:",x);try{e?await l.n.updateWorkout(e,x):await l.n.createWorkout(x),a(),t("/workouts")}catch(o){const e=d.A.handleApiError(o);m(e.errors)}finally{c(!1)}},className:"max-w-2xl mx-auto p-4",children:[(0,n.jsx)("h2",{className:"text-lg font-bold mb-4",children:e?"Update Workout":"Create Workout"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Workout Type"}),(0,n.jsxs)("select",{name:"workout_type",value:x.workout_type,onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm "+(u.workout_type?"border-red-500":""),children:[(0,n.jsx)("option",{value:"",children:"Select type"}),[{value:"cardio",label:"Cardio"},{value:"strength",label:"Strength Training"},{value:"flexibility",label:"Flexibility"},{value:"sports",label:"Sports"},{value:"other",label:"Other"}].map((e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value)))]}),u.workout_type&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.workout_type})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Duration (minutes)"}),(0,n.jsx)("input",{type:"number",name:"duration",value:x.duration,onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm "+(u.duration?"border-red-500":""),required:!0}),u.duration&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.duration})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Intensity"}),(0,n.jsxs)("select",{name:"intensity",value:x.intensity,onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[(0,n.jsx)("option",{value:"low",children:"Low"}),(0,n.jsx)("option",{value:"moderate",children:"Moderate"}),(0,n.jsx)("option",{value:"high",children:"High"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date Logged"}),(0,n.jsx)("input",{type:"date",name:"date_logged",value:x.date_logged,onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm "+(u.date_logged?"border-red-500":""),required:!0}),u.date_logged&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.date_logged})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,n.jsx)("textarea",{name:"notes",value:x.notes,onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",rows:"3"})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,n.jsx)("button",{type:"button",onClick:()=>t("/workouts"),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md",children:"Cancel"}),(0,n.jsx)("button",{type:"submit",disabled:i,className:"px-4 py-2 text-white bg-green-500 rounded-md disabled:opacity-50",children:i?"Saving...":e?"Update":"Create"})]})]})]}):(0,n.jsx)("div",{children:"Loading..."})}}}]);
//# sourceMappingURL=367.6bf1046c.chunk.js.map