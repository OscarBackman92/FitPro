/*! For license information please see 30.94cada5a.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfitpro=self.webpackChunkfitpro||[]).push([[30],{5030:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var l=t(5043),r=t(3165),o=t(7784);const s=(0,o.A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),n=(0,o.A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),d=(0,o.A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),i=(0,o.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var c=t(9799),g=t(4034),h=t(9136),m=t(8830);const u=new class{async getGoals(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{m.A.debug("Fetching goals",{params:e});return(await g.$q.get("/goals/",{params:e})).data}catch(a){throw m.A.error("Failed to fetch goals:",a),h.A.handleApiError(a,"Failed to fetch goals")}}async getGoal(e){try{m.A.debug("Fetching goal",{id:e});return(await g.$q.get(`/goals/${e}/`)).data}catch(a){throw m.A.error("Failed to fetch goal:",a),h.A.handleApiError(a,"Failed to fetch goal")}}async createGoal(e){try{m.A.debug("Creating goal",{goalData:e});const a=await g.$q.post("/goals/",e);return m.A.info("Goal created successfully"),a.data}catch(a){throw m.A.error("Failed to create goal:",a),h.A.handleApiError(a,"Failed to create goal")}}async updateGoal(e,a){try{m.A.debug("Updating goal",{id:e,goalData:a});const t=await g.$q.put(`/goals/${e}/`,a);return m.A.info("Goal updated successfully"),t.data}catch(t){throw m.A.error("Failed to update goal:",t),h.A.handleApiError(t,"Failed to update goal")}}async deleteGoal(e){try{return m.A.debug("Deleting goal",{id:e}),await g.$q.delete(`/goals/${e}/`),m.A.info("Goal deleted successfully"),!0}catch(a){throw m.A.error("Failed to delete goal:",a),h.A.handleApiError(a,"Failed to delete goal")}}async toggleGoalCompletion(e){try{m.A.debug("Toggling goal completion",{id:e});const a=await g.$q.post(`/goals/${e}/toggle_completion/`);return m.A.info("Goal completion toggled successfully"),a.data}catch(a){throw m.A.error("Failed to toggle goal completion:",a),h.A.handleApiError(a,"Failed to toggle goal completion")}}async getGoalSummary(){try{m.A.debug("Fetching goal summary");return(await g.$q.get("/goals/summary/")).data}catch(e){throw m.A.error("Failed to fetch goal summary:",e),h.A.handleApiError(e,"Failed to fetch goal summary")}}async getGoalsByType(e){try{m.A.debug("Fetching goals by type",{type:e});return(await g.$q.get("/goals/",{params:{type:e}})).data}catch(a){throw m.A.error("Failed to fetch goals by type:",a),h.A.handleApiError(a,"Failed to fetch goals by type")}}async getActiveGoals(){try{m.A.debug("Fetching active goals");return(await g.$q.get("/goals/",{params:{completed:!1}})).data}catch(e){throw m.A.error("Failed to fetch active goals:",e),h.A.handleApiError(e,"Failed to fetch active goals")}}async getCompletedGoals(){try{m.A.debug("Fetching completed goals");return(await g.$q.get("/goals/",{params:{completed:!0}})).data}catch(e){throw m.A.error("Failed to fetch completed goals:",e),h.A.handleApiError(e,"Failed to fetch completed goals")}}async getGoalsByDeadlineRange(e,a){try{m.A.debug("Fetching goals by deadline range",{startDate:e,endDate:a});return(await g.$q.get("/goals/",{params:{deadline_after:e,deadline_before:a}})).data}catch(t){throw m.A.error("Failed to fetch goals by deadline range:",t),h.A.handleApiError(t,"Failed to fetch goals by deadline range")}}async getGoalProgress(e){try{m.A.debug("Fetching goal progress",{id:e});return(await g.$q.get(`/goals/${e}/progress/`)).data}catch(a){throw m.A.error("Failed to fetch goal progress:",a),h.A.handleApiError(a,"Failed to fetch goal progress")}}};var y=t(579);const p=()=>{const[e,a]=(0,l.useState)([]),[t,o]=(0,l.useState)(!0),[g,h]=(0,l.useState)(null),[m,p]=(0,l.useState)(!1),[x,b]=(0,l.useState)({type:"",description:"",target:"",deadline:(0,c.A)(new Date,"yyyy-MM-dd")});(0,l.useEffect)((()=>{w()}),[]);const w=async()=>{try{o(!0),h(null);const e=await u.getActiveGoals();console.log("Goals response:",e),a(e.results||[])}catch(e){console.error("Error fetching goals:",e),h("Failed to load goals. Please try again.")}finally{o(!1)}},v=[{value:"weight",label:"Weight Goal",icon:"\u2696\ufe0f"},{value:"workout",label:"Workout Frequency",icon:"\ud83c\udfcb\ufe0f"},{value:"strength",label:"Strength Goal",icon:"\ud83d\udcaa"},{value:"cardio",label:"Cardio Goal",icon:"\ud83c\udfc3"},{value:"custom",label:"Custom Goal",icon:"\ud83c\udfaf"}];return g?(0,y.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,y.jsx)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:g}),(0,y.jsx)("button",{onClick:w,className:"text-green-500 hover:text-green-600 font-medium",children:"Try Again"})]}):(0,y.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,y.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsx)(r.A,{className:"h-6 w-6 text-green-500"}),(0,y.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Fitness Goals"})]}),(0,y.jsxs)("button",{onClick:()=>p(!m),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg \r hover:bg-green-600 transition-colors",children:[(0,y.jsx)(s,{className:"h-5 w-5"}),"Add Goal"]})]}),m&&(0,y.jsx)("form",{onSubmit:async e=>{e.preventDefault();try{h(null);const e=await u.createGoal({...x,completed:!1});console.log("Created goal:",e),p(!1),b({type:"",description:"",target:"",deadline:(0,c.A)(new Date,"yyyy-MM-dd")}),w()}catch(a){console.error("Error creating goal:",a),h("Failed to create goal. Please try again.")}},className:"bg-white p-6 rounded-lg shadow-lg mb-6",children:(0,y.jsxs)("div",{className:"grid gap-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Goal Type"}),(0,y.jsxs)("select",{value:x.type,onChange:e=>b({...x,type:e.target.value}),className:"w-full p-2 border rounded-md",required:!0,children:[(0,y.jsx)("option",{value:"",children:"Select a type"}),v.map((e=>(0,y.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value)))]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,y.jsx)("input",{type:"text",value:x.description,onChange:e=>b({...x,description:e.target.value}),className:"w-full p-2 border rounded-md",placeholder:"e.g., Run 5km in under 30 minutes",required:!0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target"}),(0,y.jsx)("input",{type:"text",value:x.target,onChange:e=>b({...x,target:e.target.value}),className:"w-full p-2 border rounded-md",placeholder:"e.g., 30 minutes",required:!0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deadline"}),(0,y.jsx)("input",{type:"date",value:x.deadline,onChange:e=>b({...x,deadline:e.target.value}),className:"w-full p-2 border rounded-md",min:(0,c.A)(new Date,"yyyy-MM-dd"),required:!0})]}),(0,y.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,y.jsx)("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,y.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Create Goal"})]})]})}),t?(0,y.jsx)("div",{className:"text-center py-12",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto"})}):0===e.length?(0,y.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow-lg",children:[(0,y.jsx)(r.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,y.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Goals Set Yet"}),(0,y.jsx)("p",{className:"text-gray-500 mb-4",children:"Start setting your fitness goals and track your progress!"}),(0,y.jsxs)("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-500 text-white \r rounded-lg hover:bg-green-600 transition-colors",children:[(0,y.jsx)(s,{className:"h-5 w-5"}),"Create Your First Goal"]})]}):(0,y.jsx)("div",{className:"grid gap-4",children:e.map((e=>{var a;return(0,y.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsx)("button",{onClick:()=>(async e=>{try{h(null),await u.toggleGoalCompletion(e),w()}catch(a){console.error("Error toggling goal completion:",a),h("Failed to update goal status. Please try again.")}})(e.id),className:"text-green-500 hover:text-green-600",children:e.completed?(0,y.jsx)(n,{className:"h-6 w-6"}):(0,y.jsx)(d,{className:"h-6 w-6"})}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[null===(a=v.find((a=>a.value===e.type)))||void 0===a?void 0:a.icon," ",e.description]}),(0,y.jsxs)("p",{className:"text-sm text-gray-500",children:["Target: ",e.target]})]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-4",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,y.jsx)(i,{className:"h-5 w-5"}),(0,y.jsx)("span",{className:"text-sm",children:(0,c.A)(new Date(e.deadline),"MMM d, yyyy")})]}),(0,y.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this goal?"))try{h(null),await u.deleteGoal(e),w()}catch(a){console.error("Error deleting goal:",a),h("Failed to delete goal. Please try again.")}})(e.id),className:"text-red-500 hover:text-red-600",children:(0,y.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},e.id)}))})]})}}}]);
//# sourceMappingURL=30.94cada5a.chunk.js.map