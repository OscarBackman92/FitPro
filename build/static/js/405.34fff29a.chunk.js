"use strict";(self.webpackChunkfitpro=self.webpackChunkfitpro||[]).push([[405],{405:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(5043),l=s(3216),r=s(108),i=s(1653),o=s(7734),n=s(2185),d=s(6026),c=s(6150),x=s(168),h=s(7015),u=s(6203),m=s(1521),g=s(579);const j=e=>{let{filter:t=""}=e;const[s,j]=(0,a.useState)({results:[]}),[p,f]=(0,a.useState)(!1),[y,N]=(0,a.useState)(null),[b,w]=(0,a.useState)("all"),[v,k]=(0,a.useState)("-date_logged"),[D,S]=(0,a.useState)(!1),A=(0,l.Zp)();(0,a.useEffect)((()=>{f(!1);const e=setTimeout((()=>{(async()=>{try{const e=await h.A.getWorkouts({...t&&{filter:t},ordering:v});j(e),N(null)}catch(e){console.error("Error fetching workouts:",e),N("Failed to load workouts")}finally{f(!0)}})()}),300);return()=>clearTimeout(e)}),[t,v]);if(y)return(0,g.jsx)("div",{className:"p-6 bg-white rounded shadow-md text-center max-w-lg mx-auto",children:(0,g.jsx)(m.A,{variant:"warning",children:y})});if(!p)return(0,g.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,g.jsx)(u.A,{spinner:!0})});const C=s.results.length,W=s.results.reduce(((e,t)=>e+t.duration),0),F=Math.round(W/C)||0,T=s.results.slice(0,7).map((e=>({date:new Date(e.date_logged).toLocaleDateString(),duration:e.duration}))).reverse();return(0,g.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:t?"Activity Feed":"Workouts"}),(0,g.jsxs)("button",{onClick:()=>A("/workouts/create"),className:"bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700",children:[(0,g.jsx)("i",{className:"fas fa-plus mr-2"})," Log Workout"]})]}),(0,g.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[{title:"Total Workouts",value:C,icon:"fas fa-dumbbell"},{title:"Total Duration",value:`${W} mins`,icon:"fas fa-clock"},{title:"Average Duration",value:`${F} mins`,icon:"fas fa-chart-line"}].map((e=>{let{title:t,value:s,icon:a}=e;return(0,g.jsxs)("div",{className:"p-4 bg-white rounded shadow text-center",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-600",children:t}),(0,g.jsx)("p",{className:"text-xl font-bold text-gray-800 mt-2",children:s}),(0,g.jsx)("i",{className:`${a} text-green-500 text-3xl mt-4`})]},t)}))}),T.length>0&&(0,g.jsxs)("div",{className:"bg-white p-4 rounded shadow mb-8",children:[(0,g.jsx)("h3",{className:"text-lg font-bold mb-4 text-gray-800",children:"Activity Overview"}),(0,g.jsx)(r.u,{width:"100%",height:300,children:(0,g.jsxs)(i.b,{data:T,children:[(0,g.jsx)(o.d,{strokeDasharray:"3 3"}),(0,g.jsx)(n.W,{dataKey:"date"}),(0,g.jsx)(d.h,{}),(0,g.jsx)(c.m,{}),(0,g.jsx)(x.N,{type:"monotone",dataKey:"duration",stroke:"#8884d8",name:"Duration (min)"})]})})]}),(0,g.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Workout Type"}),(0,g.jsxs)("select",{value:b,onChange:e=>w(e.target.value),className:"border rounded p-2 text-gray-700",children:[(0,g.jsx)("option",{value:"all",children:"All Types"}),(0,g.jsx)("option",{value:"cardio",children:"Cardio"}),(0,g.jsx)("option",{value:"strength",children:"Strength"}),(0,g.jsx)("option",{value:"flexibility",children:"Flexibility"})]})]}),(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Sort By"}),(0,g.jsxs)("select",{value:v,onChange:e=>k(e.target.value),className:"border rounded p-2 text-gray-700",children:[(0,g.jsx)("option",{value:"-date_logged",children:"Newest First"}),(0,g.jsx)("option",{value:"date_logged",children:"Oldest First"}),(0,g.jsx)("option",{value:"-duration",children:"Duration (High to Low)"}),(0,g.jsx)("option",{value:"duration",children:"Duration (Low to High)"})]})]})]}),(0,g.jsxs)("div",{className:"bg-white rounded shadow overflow-hidden",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,g.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Workout History"}),(0,g.jsx)("button",{onClick:()=>S(!D),className:"text-gray-500 hover:text-gray-800",children:(0,g.jsx)("i",{className:"fas fa-chevron-"+(D?"up":"down")})})]}),(0,g.jsx)("div",{className:""+(D?"max-h-full":"max-h-64 overflow-y-auto"),children:s.results.length>0?(0,g.jsxs)("table",{className:"w-full text-left",children:[(0,g.jsx)("thead",{className:"bg-gray-200",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-3",children:"Date"}),(0,g.jsx)("th",{className:"p-3",children:"Type"}),(0,g.jsx)("th",{className:"p-3",children:"Duration"}),(0,g.jsx)("th",{className:"p-3",children:"Intensity"}),(0,g.jsx)("th",{className:"p-3",children:"Actions"})]})}),(0,g.jsx)("tbody",{children:s.results.filter((e=>"all"===b||e.workout_type===b)).map((e=>(0,g.jsxs)("tr",{className:"border-t",children:[(0,g.jsx)("td",{className:"p-3",children:new Date(e.date_logged).toLocaleDateString()}),(0,g.jsx)("td",{className:"p-3 capitalize",children:e.workout_type}),(0,g.jsxs)("td",{className:"p-3",children:[e.duration," mins"]}),(0,g.jsx)("td",{className:"p-3 capitalize",children:(0,g.jsx)("span",{className:"px-2 py-1 rounded "+("high"===e.intensity?"bg-red-100 text-red-600":"moderate"===e.intensity?"bg-yellow-100 text-yellow-600":"bg-green-100 text-green-600"),children:e.intensity})}),(0,g.jsxs)("td",{className:"p-3 space-x-2",children:[(0,g.jsx)("button",{onClick:()=>A(`/workouts/${e.id}/edit`),className:"text-blue-600 hover:text-blue-800",children:(0,g.jsx)("i",{className:"fas fa-edit"})}),(0,g.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this workout?"))try{await h.A.deleteWorkout(e),j((t=>({...t,results:t.results.filter((t=>t.id!==e))})))}catch(t){N("Failed to delete workout")}})(e.id),className:"text-red-600 hover:text-red-800",children:(0,g.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)))})]}):(0,g.jsxs)("div",{className:"text-center p-4",children:[(0,g.jsx)("p",{children:"No workouts recorded yet. Start logging your fitness journey!"}),(0,g.jsxs)("button",{onClick:()=>A("/workouts/create"),className:"mt-4 bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700",children:[(0,g.jsx)("i",{className:"fas fa-plus"})," Log Your First Workout"]})]})})]})]})}}}]);
//# sourceMappingURL=405.34fff29a.chunk.js.map